# ==========================
#   Kitty Font Configuration
#   FiraCode Nerd Font (Compact)
# ==========================

# ---- Base Font ----
font_family      FiraCode Nerd Font
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size        16

# ---- Nerd Font / Powerline Fix ----
# Map all Nerd Font private-use codepoints to ensure icons render correctly
symbol_map U+E000-U+E0FF FiraCode Nerd Font
symbol_map U+E100-U+E1FF FiraCode Nerd Font
symbol_map U+E200-U+E2FF FiraCode Nerd Font
symbol_map U+E300-U+E3FF FiraCode Nerd Font

# Powerline symbol width fixes for prompts
symbol_map U+E0A0-U+E0A3,U+E0C0-U+E0C7 PowerlineSymbols
narrow_symbols U+E0A0-U+E0A3,U+E0C0-U+E0C7 1

# ---- Ligatures ----
disable_ligatures never
map alt+1 disable_ligatures_in active always
map alt+2 disable_ligatures_in all never
map alt+3 disable_ligatures_in tab cursor

# ---- OpenType Features (FiraCode Recommended) ----
# Enable slashed zero and popular stylistic sets
font_features FiraCodeNerdFont-Regular +zero +ss01 +ss02 +ss03 +ss05 +ss07
font_features FiraCodeNerdFont-Bold    +zero +ss01 +ss02 +ss03 +ss05 +ss07

# ---- Appearance Tweaks ----

# Underline & strike
modify_font underline_position -2
modify_font underline_thickness 150%
modify_font strikethrough_position 2px

# Compact spacing & baseline adjustments
modify_font cell_width 82%
modify_font cell_height -1px
modify_font baseline 2

# ---- Drawing and Underline Behavior ----
box_drawing_scale 0.001,1,1.5,2
undercurl_style thin-sparse
underline_exclusion 1

# ---- Rendering Strategy ----
text_composition_strategy platform
text_fg_override_threshold 0
